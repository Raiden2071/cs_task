<form [formGroup]="ownerForm" (ngSubmit)="onSubmit()" class="m-3">
  <div>
    <div class="d-flex mb-2">
      <div class="owner">Имя</div>
      <input type="text" class="form-control" formControlName="name"
        [attr.disabled]="mode==0 ? ownerForm.disabled : null"
        [class.border-danger]="ownerForm.controls.name?.errors && showErrors">
    </div>
    <div class="d-flex mb-2">
      <div class="owner">Фамилия</div>
      <input type="text" class="form-control" formControlName="surname"
        [attr.disabled]="mode==0 ? ownerForm.disabled : null"
        [class.border-danger]="ownerForm.controls.surname?.errors && showErrors">
    </div>
    <div class="d-flex">
      <div class="owner">Отчество</div>
      <input type="text" class="form-control" formControlName="patronymic"
        [attr.disabled]="mode==0 ? ownerForm.disabled : null"
        [class.border-danger]="ownerForm.controls.patronymic?.errors && showErrors">
    </div>
  </div>
  <h1>Автомобили</h1>
  <table class="table caption-top">
    <thead>
      <tr>
        <th scope="col">Номер</th>
        <th scope="col">Марка</th>
        <th scope="col">Модель</th>
        <th scope="col">Год</th>
      </tr>
    </thead>
    <tbody>
      <ng-container formArrayName="aCars">
        <tr *ngFor="let car of cars.controls; let i=index" [formGroupName]="i">
          <td class="input-group input-group-sm">
            <input formControlName="stateNumber" [attr.disabled]="mode==0 ? ownerForm.disabled : null">
          </td>
          <td>
            <input formControlName="firm" [attr.disabled]="mode==0 ? ownerForm.disabled : null">
          </td>
          <td>
            <input formControlName="model" [attr.disabled]="mode==0 ? ownerForm.disabled : null">
          </td>
          <td>
            <input formControlName="productionYear" [attr.disabled]="mode==0 ? ownerForm.disabled : null">
          </td>
          <img src="/assets/image/delete_black.svg" (click)="deleteCar(i)">
        </tr>
      </ng-container>
    </tbody>
  </table>

  <button type="button" [disabled]="mode===0" (click)="addCar()" class="p-2 btn btn-primary">
    <img src="/assets/image/add_white.svg">
    <span>Добавить автомобиль</span>
  </button>
  <div class="d-flex mt-3">
    <button type="submit" type="submit" class="btn btn-primary me-3">
      <img src="/assets/image/save_white.svg">
      <span>Сохранить</span>
    </button>

    <button type="button" (click)="close()" class="btn btn-secondary">
      <img src="/assets/image/arrow_back_white.svg">
      <span>Назад</span>
    </button>
  </div>
</form>
